{"ast":null,"code":"/* eslint-disable no-console */\n\n/* eslint-disable no-plusplus */\n\n/* eslint-disable no-restricted-syntax */\nimport moment from 'moment';\n\nconst nextIrrigation = (weekData, roundsData) => {\n  console.log(weekData);\n  console.log(roundsData);\n\n  if (false || flase) {\n    return 'Error';\n  }\n\n  const nextSevenDays = [];\n\n  for (let i = 0; i < 7; i++) {\n    nextSevenDays[i] = moment().add(i, 'days').format('dddd');\n    let nextIrrigationTime = moment(new Date(), 'HH:mm:ss');\n    let nextRound;\n\n    if (weekData[nextSevenDays[i].toLowerCase()] === true) {\n      for (const [, round] of Object.entries(roundsData)) {\n        const startTimeMoment = moment(round.startTime, 'HH:mm:ss');\n\n        if (round.isActive && startTimeMoment.isAfter(new Date(), 'HH:mm:ss')) {\n          if (startTimeMoment.isBefore(nextIrrigationTime)) {\n            nextIrrigationTime = startTimeMoment;\n            nextRound = round;\n          }\n        }\n      }\n\n      const times = nextRound.startTime.split(':');\n      return `${nextSevenDays[i]} ${times[0]}:${times[1]}`;\n    }\n  }\n\n  return 'Not set';\n};\n\nexport default nextIrrigation;","map":{"version":3,"sources":["/Users/tamirhen/Desktop/Irrigation-System-React/irrigation-react/src/utils/NextIrrigation.js"],"names":["moment","nextIrrigation","weekData","roundsData","console","log","flase","nextSevenDays","i","add","format","nextIrrigationTime","Date","nextRound","toLowerCase","round","Object","entries","startTimeMoment","startTime","isActive","isAfter","isBefore","times","split"],"mappings":"AAAA;;AACA;;AACA;AACA,OAAOA,MAAP,MAAmB,QAAnB;;AAEA,MAAMC,cAAc,GAAG,CAACC,QAAD,EAAWC,UAAX,KAA0B;AAC/CC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;;AACA,MAAI,SAASG,KAAb,EAAoB;AAClB,WAAO,OAAP;AACD;;AACD,QAAMC,aAAa,GAAG,EAAtB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1BD,IAAAA,aAAa,CAACC,CAAD,CAAb,GAAmBR,MAAM,GAAGS,GAAT,CAAaD,CAAb,EAAgB,MAAhB,EAAwBE,MAAxB,CAA+B,MAA/B,CAAnB;AACA,QAAIC,kBAAkB,GAAGX,MAAM,CAAC,IAAIY,IAAJ,EAAD,EAAa,UAAb,CAA/B;AACA,QAAIC,SAAJ;;AACA,QAAIX,QAAQ,CAACK,aAAa,CAACC,CAAD,CAAb,CAAiBM,WAAjB,EAAD,CAAR,KAA6C,IAAjD,EAAuD;AACrD,WAAK,MAAM,GAAGC,KAAH,CAAX,IAAwBC,MAAM,CAACC,OAAP,CAAed,UAAf,CAAxB,EAAoD;AAClD,cAAMe,eAAe,GAAGlB,MAAM,CAACe,KAAK,CAACI,SAAP,EAAkB,UAAlB,CAA9B;;AACA,YAAIJ,KAAK,CAACK,QAAN,IAAkBF,eAAe,CAACG,OAAhB,CAAwB,IAAIT,IAAJ,EAAxB,EAAoC,UAApC,CAAtB,EAAuE;AACrE,cAAIM,eAAe,CAACI,QAAhB,CAAyBX,kBAAzB,CAAJ,EAAkD;AAChDA,YAAAA,kBAAkB,GAAGO,eAArB;AACAL,YAAAA,SAAS,GAAGE,KAAZ;AACD;AACF;AACF;;AACD,YAAMQ,KAAK,GAAGV,SAAS,CAACM,SAAV,CAAoBK,KAApB,CAA0B,GAA1B,CAAd;AACA,aAAQ,GAAEjB,aAAa,CAACC,CAAD,CAAI,IAAGe,KAAK,CAAC,CAAD,CAAI,IAAGA,KAAK,CAAC,CAAD,CAAI,EAAnD;AACD;AACF;;AACD,SAAO,SAAP;AACD,CA1BD;;AA4BA,eAAetB,cAAf","sourcesContent":["/* eslint-disable no-console */\n/* eslint-disable no-plusplus */\n/* eslint-disable no-restricted-syntax */\nimport moment from 'moment';\n\nconst nextIrrigation = (weekData, roundsData) => {\n  console.log(weekData);\n  console.log(roundsData);\n  if (false || flase) {\n    return 'Error';\n  }\n  const nextSevenDays = [];\n  for (let i = 0; i < 7; i++) {\n    nextSevenDays[i] = moment().add(i, 'days').format('dddd');\n    let nextIrrigationTime = moment(new Date(), 'HH:mm:ss');\n    let nextRound;\n    if (weekData[nextSevenDays[i].toLowerCase()] === true) {\n      for (const [, round] of Object.entries(roundsData)) {\n        const startTimeMoment = moment(round.startTime, 'HH:mm:ss');\n        if (round.isActive && startTimeMoment.isAfter(new Date(), 'HH:mm:ss')) {\n          if (startTimeMoment.isBefore(nextIrrigationTime)) {\n            nextIrrigationTime = startTimeMoment;\n            nextRound = round;\n          }\n        }\n      }\n      const times = nextRound.startTime.split(':');\n      return `${nextSevenDays[i]} ${times[0]}:${times[1]}`;\n    }\n  }\n  return 'Not set';\n};\n\nexport default nextIrrigation;\n"]},"metadata":{},"sourceType":"module"}