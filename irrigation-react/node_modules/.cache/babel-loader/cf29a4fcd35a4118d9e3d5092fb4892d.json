{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/tamirhen/Desktop/Irrigation-System-React/irrigation-react/src/Tabs/Home.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport React, { useState, useContext } from 'react';\nimport axios from 'axios';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport IconButton from '@material-ui/core/IconButton';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { UserContext } from '../providers/UserProvider';\nimport './Home.css';\n\nconst Home = () => {\n  _s();\n\n  const user = useContext(UserContext);\n  const [status, setStatus] = useState('OFF');\n  const [loading, setLoading] = useState('determinate');\n  const [isBreathing, setIsBreathing] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const errorHandler = customError => {\n    setErrorMessage(customError || 'There was a problem loading the data');\n  };\n\n  const getStatus = () => {\n    const {\n      urlCode\n    } = user;\n    setErrorMessage('');\n    setLoading('indeterminate');\n    axios.get(`${urlCode}/get_state`, {\n      timeout: 10 * 1000\n    }).then(response => {\n      const {\n        data\n      } = response;\n      setStatus(data === true ? 'ON' : 'OFF');\n    }).catch(error => {\n      errorHandler(\"Connection error: please check the raspberry's internet connection\");\n      console.error(error);\n    }).finally(() => {\n      setLoading('determinate');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-header\",\n          children: [\"Hello \", user.firstName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-body\",\n          children: \"body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        orientation: \"vertical\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-header\",\n          children: \"Watering status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"breathing-status\",\n            className: `manual-button ${isBreathing ? 'breathing' : ''}`,\n            style: {\n              backgroundColor: status === 'OFF' ? '#F50057' : 'green'\n            },\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"refresh-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              color: \"primary\",\n              size: \"medium\",\n              \"aria-label\": \"refresh\",\n              onClick: getStatus,\n              children: /*#__PURE__*/_jsxDEV(RefreshIcon, {\n                fontSize: \"large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loader-wrapper\",\n            hidden: loading === 'determinate',\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n              className: \"loader\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-wrapper\",\n            hidden: errorMessage === '',\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error-message\",\n              children: errorMessage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Home, \"PIKxDs7gc0Yj7NifNnUNlOiyFNE=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/tamirhen/Desktop/Irrigation-System-React/irrigation-react/src/Tabs/Home.js"],"names":["React","useState","useContext","axios","RefreshIcon","IconButton","CircularProgress","UserContext","Home","user","status","setStatus","loading","setLoading","isBreathing","setIsBreathing","errorMessage","setErrorMessage","errorHandler","customError","getStatus","urlCode","get","timeout","then","response","data","catch","error","console","finally","firstName","backgroundColor"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useState, useContext } from 'react';\n\nimport axios from 'axios';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport IconButton from '@material-ui/core/IconButton';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { UserContext } from '../providers/UserProvider';\n\nimport './Home.css';\n\nconst Home = () => {\n  const user = useContext(UserContext);\n\n  const [status, setStatus] = useState('OFF');\n  const [loading, setLoading] = useState('determinate');\n  const [isBreathing, setIsBreathing] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const errorHandler = (customError) => {\n    setErrorMessage(customError || 'There was a problem loading the data');\n  };\n\n  const getStatus = () => {\n    const { urlCode } = user;\n    setErrorMessage('');\n    setLoading('indeterminate');\n    axios\n      .get(`${urlCode}/get_state`, {\n        timeout: 10 * 1000,\n      })\n      .then((response) => {\n        const { data } = response;\n        setStatus(data === true ? 'ON' : 'OFF');\n      })\n      .catch((error) => {\n        errorHandler(\n          \"Connection error: please check the raspberry's internet connection\",\n        );\n        console.error(error);\n      })\n      .finally(() => {\n        setLoading('determinate');\n      });\n  };\n\n  return (\n    <>\n      <div className=\"main-body\">\n        <div className=\"container left\">\n          <div className=\"container-header\">Hello {user.firstName}</div>\n          <div className=\"container-body\">body</div>\n        </div>\n        <hr orientation=\"vertical\" />\n        <div className=\"container right\">\n          <div className=\"container-header\">Watering status</div>\n          <div className=\"container-body\">\n            <div\n              id=\"breathing-status\"\n              className={`manual-button ${isBreathing ? 'breathing' : ''}`}\n              style={{\n                backgroundColor: status === 'OFF' ? '#F50057' : 'green',\n              }}\n            >\n              {status}\n            </div>\n\n            <div className=\"refresh-wrapper\">\n              <IconButton\n                color=\"primary\"\n                size=\"medium\"\n                aria-label=\"refresh\"\n                onClick={getStatus}\n              >\n                <RefreshIcon fontSize=\"large\" />\n              </IconButton>\n            </div>\n            <div className=\"loader-wrapper\" hidden={loading === 'determinate'}>\n              <CircularProgress className=\"loader\" />\n            </div>\n            <div className=\"error-wrapper\" hidden={errorMessage === ''}>\n              <p className=\"error-message\">{errorMessage}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}